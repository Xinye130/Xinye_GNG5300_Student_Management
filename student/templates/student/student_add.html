{% extends "base.html" %}

{% block page_title %}
<h2>Add Student</h2>
{% endblock page_title %}

{% block page_content %}
{% if message == "Student added successfully!" %}
<div class="alert alert-info">{{ message }}</div>
<div class="mt-3">
    <p>Do you want to add another student?</p>
    <form action="{% url 'student_add' %}" method="get" style="display:inline;">
        <button type="submit" class="btn btn-success">Yes</button>
    </form>
    <form action="{% url 'student_list' %}" method="get" style="display:inline;">
        <button type="submit" class="btn btn-secondary">No</button>
    </form>
</div>
{% else %}
{% if message == "Student already exists!" %}
<div class="alert alert-danger">
    <p style="color: red;">{{ message }}</p>
</div>
{% endif %}
<form method="post">
    {% csrf_token %}
    <div class="form-group">
        <label for="id_first_name">First Name</label>
        {{ form.first_name }}
    </div>
    <div class="form-group">
        <label for="id_last_name">Last Name</label>
        {{ form.last_name }}
    </div>
    <div class="form-group">
        <label for="id_email">Email</label>
        {{ form.email }}
        <span style="color: red; margin-left: 10px;">{{ form.email.errors }}</span>
    </div>
    <div class="form-group">
        <label for="id_date_of_birth">Date of Birth</label>
        {{ form.date_of_birth }}
    </div>
    <div class="form-group">
        <label for="id_enrollment_date">Enrollment Date</label>
        {{ form.enrollment_date }}
    </div>
    <div class="form-group">
        <label for="id_grade">Grade</label>
        {{ form.grade }}
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>
{% endif %}
{% endblock page_content %}